(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(v){return b.New(c.ofArray([["Dispose",v]]));}},Event:{Event:$.Class({AddHandler:function(w){return this.Handlers.push(w);},RemoveHandler:function(x){var y,z,A,B,C,J;y=(z=(A=(B=this.Handlers,(C=function(D){var E;E=function(F){return function(G){if(d.Equals(G,x)){return{$:1,$0:F};}else{return{$:0};}};};return D.map(function(H,I){return(E(I))(H);});},C(B))),(J=function(K){return e.choose(function(L){return L;},K);},J(A))),c.ofArray(z));if(y.$==1){return this.Handlers.splice(y.$0,1);}else{return null;}},Subscribe:function(M){var N,Q=this;N=function(O){return M.OnNext(O);};this.AddHandler(N);return g.Of(function(){return Q.RemoveHandler(N);});},Trigger:function(R){var T=this;$.For(0,this.Handlers.length-1,function(S){T.Handlers[S].call(null,R);});}})},EventModule:{Choose:function(U,V){var W;W=h.New();i.addListener(V,function(X){var Y,Z;Y=U(X);if(Y.$==0){return null;}else{Z=Y.$0;return W.event.Trigger(Z);}});return W.event;},Filter:function(_0,_1){var _2;_2=$.New(k,{Handlers:[]});i.addListener(_1,function(_3){if(_0(_3)){return _2.Trigger(_3);}else{return null;}});return _2;},Map:function(_4,_5){var _6;_6=$.New(k,{Handlers:[]});i.addListener(_5,function(_7){return _6.Trigger(_4(_7));});return _6;},Merge:function(_8,_9){var _;_=$.New(k,{Handlers:[]});i.addListener(_8,function(ba){return _.Trigger(ba);});i.addListener(_9,function(ba){return _.Trigger(ba);});return _;},Pairwise:function(bb){var bc,bd;bc={contents:{$:0}};bd=$.New(k,{Handlers:[]});i.addListener(bb,function(be){var bf,bg;bf=bc.contents;if(bf.$==1){bg=bf.$0;bc.contents={$:1,$0:be};return bd.Trigger([bg,be]);}else{bc.contents={$:1,$0:be};}});return bd;},Partition:function(bh,bi){var bj;return[l.Filter(bh,bi),l.Filter((bj=function(bk){return!bk;},function(bl){return bj(bh(bl));}),bi)];},Scan:function(bm,bn,bo){var bp;bp={contents:bn};return l.Map(function(bq){bp.contents=(bm(bp.contents))(bq);return bp.contents;},bo);},Split:function(br,bs){var bt,bu,bz,bA;return[(bt=(bu=function(bv){var bw,bx;bw=br(bv);if(bw.$==0){bx=bw.$0;return{$:1,$0:bx};}else{return{$:0};}},function(by){return l.Choose(bu,by);}),bt(bs)),(bz=(bA=function(bB){var bC,bD;bC=br(bB);if(bC.$==1){bD=bC.$0;return{$:1,$0:bD};}else{return{$:0};}},function(bE){return l.Choose(bA,bE);}),bz(bs))];}},FSharpEvent:$.Class({},{New:function(){var bF;bF=$.New(this,{});bF.event=$.New(k,{Handlers:[]});return bF;}}),HotStream:{HotStream:$.Class({Subscribe:function(bG){var bH,bI;if(this.Latest.contents.$==1){bG.OnNext(this.Latest.contents.$0);}bH=i.subscribeTo((bI=this.Event,bI.event),function(bJ){return bG.OnNext(bJ);});return bH;},Trigger:function(bK){var bL;this.Latest.contents={$:1,$0:bK};bL=this.Event;return bL.event.Trigger(bK);}},{New:function(){return $.New(n,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bM,bN,bO){return o.New(function(bP){var bQ;bQ={contents:bN};return i.subscribeTo(bM,function(bR){bQ.contents=(bO(bQ.contents))(bR);return bP.OnNext(bQ.contents);});});},Choose:function(bS,bT){return o.New(function(bU){var bV,bZ;bV=function(bW){var bX,bY;bX=bS(bW);if(bX.$==0){return null;}else{bY=bX.$0;return bU.OnNext(bY);}};bZ=p.New(bV,function(b0){return bU.OnError(b0);},function(){return bU.OnCompleted();});return bT.Subscribe(bZ);});},CombineLatest:function(b2,b3,b4){return o.New(function(b5){var b6,b7,b8,cb,cc,cg,ch,cl,cm;b6={contents:{$:0}};b7={contents:{$:0}};b8=function(){var b_,b$,ca;b_=[b6.contents,b7.contents];if(b_[0].$==1){if(b_[1].$==1){b$=b_[0].$0;ca=b_[1].$0;return b5.OnNext((b4(b$))(ca));}else{return null;}}else{return null;}};cb=(cc=function(cd){b6.contents={$:1,$0:cd};return b8(null);},p.New(cc,function(ce){ce;},function(cf){cf;}));cg=(ch=function(ci){b7.contents={$:1,$0:ci};return b8(null);},p.New(ch,function(cj){cj;},function(ck){ck;}));cl=b2.Subscribe(cb);cm=b3.Subscribe(cg);return g.Of(function(){cl.Dispose();return cm.Dispose();});});},Concat:function(co,cp){return o.New(function(cq){var cr,cs,cx;cr={contents:{$:0}};cs=co.Subscribe(p.New(function(ct){return cq.OnNext(ct);},function(cu){cu;},function(){var cw;cr.contents=(cw=cp.Subscribe(cq),{$:1,$0:cw});}));cx=function(){if(cr.contents.$==1){cr.contents.$0.Dispose();}return cs.Dispose();};return g.Of(cx);});},Drop:function(cz,cA){return o.New(function(cB){var cC,cD,cF;cC={contents:0};cD=function(cE){q.Increment(cC);if(cC.contents>cz){return cB.OnNext(cE);}else{return null;}};cF=p.New(cD,function(cG){return cB.OnError(cG);},function(){return cB.OnCompleted();});return cA.Subscribe(cF);});},Filter:function(cI,cJ){return o.New(function(cK){var cL,cN;cL=function(cM){if(cI(cM)){return cK.OnNext(cM);}else{return null;}};cN=p.New(cL,function(cO){return cK.OnError(cO);},function(){return cK.OnCompleted();});return cJ.Subscribe(cN);});},Map:function(cQ,cR){return o.New(function(cS){var cT,cV;cT=function(cU){return cS.OnNext(cQ(cU));};cV=p.New(cT,function(cW){return cS.OnError(cW);},function(){return cS.OnCompleted();});return cR.Subscribe(cV);});},Merge:function(cY,cZ){return o.New(function(c0){var c1,c2,c3,c4,c8,c_,c$,dd;c1={contents:false};c2={contents:false};c3=(c4=p.New(function(c5){return c0.OnNext(c5);},function(c6){c6;},function(){c1.contents=true;if(c1.contents?c2.contents:false){return c0.OnCompleted();}else{return null;}}),(c8=function(c9){return cY.Subscribe(c9);},c8(c4)));c_=(c$=p.New(function(da){return c0.OnNext(da);},function(db){db;},function(){c2.contents=true;if(c1.contents?c2.contents:false){return c0.OnCompleted();}else{return null;}}),(dd=function(de){return cZ.Subscribe(de);},dd(c$)));return g.Of(function(){c3.Dispose();return c_.Dispose();});});},Never:function(){return o.New(function(){return g.Of(function(dh){dh;});});},New:function(di){return $.New(r,{Subscribe1:di});},Observable:$.Class({Subscribe:function(dj){return this.Subscribe1.call(null,dj);}}),Of:function(dk){return o.New(function(dl){return g.Of(dk(function(dm){return dl.OnNext(dm);}));});},Range:function(dn,_do){return o.New(function(dp){$.For(dn,dn+_do,function(dq){dp.OnNext(dq);});return g.Of(function(dr){dr;});});},Return:function(ds){return o.New(function(dt){dt.OnNext(ds);dt.OnCompleted();return g.Of(function(du){du;});});},SelectMany:function(dv){return o.New(function(dw){var dx,dz;dx={contents:function(dy){dy;}};dz=i.subscribeTo(dv,function(dA){var dB;dB=i.subscribeTo(dA,function(dC){return dw.OnNext(dC);});dx.contents=function(){dx.contents.call(null,null);return dB.Dispose();};});return g.Of(function(){dx.contents.call(null,null);return dz.Dispose();});});},Sequence:function(dF){var dG;dG=function(dH){var dI,dJ,dK;if(dH.$==1){dI=dH.$1;dJ=dH.$0;dK=dG(dI);return o.CombineLatest(dJ,dK,function(dL){return function(dM){return $.New(s,{$:1,$0:dL,$1:dM});};});}else{return o.Return($.New(s,{$:0}));}};return dG(c.ofSeq(dF));},Switch:function(dN){return o.New(function(dO){var dP,dQ,dR;dP=(dQ={contents:0},(dR={contents:{$:0}},i.subscribeTo(dN,function(dS){var dT,dU,dV;q.Increment(dQ);if(dR.contents.$==1){dR.contents.$0.Dispose();}dT=dQ.contents;dU=(dV=i.subscribeTo(dS,function(dW){if(dT===dQ.contents){return dO.OnNext(dW);}else{return null;}}),{$:1,$0:dV});dR.contents=dU;})));return dP;});}},ObservableModule:{Pairwise:function(dX){var dY,dZ,d0,d1,d8,d9;dY=(dZ=[{$:0},{$:0}],(d0=(d1=$.Tupled(function(d2){var d3,d4;d3=d2[0];d4=d2[1];return function(d5){return[d4,{$:1,$0:d5}];};}),$.Tupled(function(d6){return function(d7){return t.Scan(d1,d6,d7);};})),(d0(dZ))(dX)));d8=(d9=$.Tupled(function(d_){var d$,ea;if(d_[0].$==1){if(d_[1].$==1){d$=d_[0].$0;ea=d_[1].$0;return{$:1,$0:[d$,ea]};}else{return{$:0};}}else{return{$:0};}}),function(eb){return o.Choose(d9,eb);});return d8(dY);},Partition:function(ec,ed){var ee;return[o.Filter(ec,ed),o.Filter((ee=function(ef){return!ef;},function(eg){return ee(ec(eg));}),ed)];},Scan:function(eh,ei,ej){var ek,el;ek={contents:ei};el=function(em){ek.contents=(eh(ek.contents))(em);return ek.contents;};return o.Map(el,ej);},Split:function(en,eo){var ep,eq,er,ew,ex,ey;ep=(eq=(er=function(es){var et,eu;et=en(es);if(et.$==0){eu=et.$0;return{$:1,$0:eu};}else{return{$:0};}},function(ev){return o.Choose(er,ev);}),eq(eo));ew=(ex=(ey=function(ez){var eA,eB;eA=en(ez);if(eA.$==1){eB=eA.$0;return{$:1,$0:eB};}else{return{$:0};}},function(eC){return o.Choose(ey,eC);}),ex(eo));return[ep,ew];}},Observer:{New:function(eD,eE,eF){return $.New(u,{onNext:eD,onError:eE,onCompleted:eF});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(eG){return this.onError.call(null,eG);},OnNext:function(eH){return this.onNext.call(null,eH);}}),Of:function(eI){return $.New(u,{onNext:eI,onError:function(eJ){return q.Raise(eJ);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Pervasives);c=$.Safe(a.List);d=$.Safe(a.Unchecked);e=$.Safe(a.Arrays);f=$.Safe(a.Control);g=$.Safe(f.Disposable);h=$.Safe(f.FSharpEvent);i=$.Safe(a.Util);j=$.Safe(f.Event);k=$.Safe(j.Event);l=$.Safe(f.EventModule);m=$.Safe(f.HotStream);n=$.Safe(m.HotStream);o=$.Safe(f.Observable);p=$.Safe(f.Observer);q=$.Safe(a.Operators);r=$.Safe(o.Observable);s=$.Safe(c.T);t=$.Safe(f.ObservableModule);return u=$.Safe(p.Observer);});$.OnLoad(function(){});}());
