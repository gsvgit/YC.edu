(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(w,x){return c.Put(function(){return function(z){return z;};},w,x);},Branch:function(A,B,C){return{Node:A,Left:B,Right:C,Height:1+d.Max(B==null?0:B.Height,C==null?0:C.Height),Count:1+(B==null?0:B.Count)+(C==null?0:C.Count)};},Build:function(D,E,F){var G,H,I,J;G=F-E+1;if(G<=0){return null;}else{H=(E+F)/2>>0;I=c.Build(D,E,H-1);J=c.Build(D,H+1,F);return c.Branch(D[H],I,J);}},Contains:function(K,L){return!((c.Lookup(K,L))[0]==null);},Enumerate:function(M,N){var O;O=$.Tupled(function(P){var Q,R,S,T,U;Q=P[0];R=P[1];if(Q==null){if(R.$==1){S=R.$0[0];T=R.$1;U=R.$0[1];return{$:1,$0:[S,[U,T]]};}else{return{$:0};}}else{if(M){return O([Q.Right,$.New(f,{$:1,$0:[Q.Node,Q.Left],$1:R})]);}else{return O([Q.Left,$.New(f,{$:1,$0:[Q.Node,Q.Right],$1:R})]);}}});return g.unfold(O,[N,$.New(f,{$:0})]);},Lookup:function(V,W){var X,Y,Z;X=[];Y=W;Z=true;$.While(function(){return Z;},function(){var _0;Y==null?Z=false:(_0=d.Compare(V,Y.Node),_0===0?Z=false:_0===1?(X.unshift([true,Y.Node,Y.Left]),Y=Y.Right):(X.unshift([false,Y.Node,Y.Right]),Y=Y.Left));});return[Y,X];},OfSeq:function(_1){var _2;_2=h.sort(g.toArray(g.distinct(_1)));return c.Build(_2,0,_2.length-1);},Put:function(_3,_4,_5){var _6,_7,_8;_6=c.Lookup(_4,_5);_7=_6[0];_8=_6[1];if(_7==null){return c.Rebuild(_8,c.Branch(_4,null,null));}else{return c.Rebuild(_8,c.Branch((_3(_7.Node))(_4),_7.Left,_7.Right));}},Rebuild:function(_9,_){var ba,bc;ba=function(bb){if(bb==null){return 0;}else{return bb.Height;}};bc=_;$.For(0,_9.length-1,function(bd){var be,bf,bg,bh,bi,bj,bk;bc=(be=_9[bd],be[0]?(bf=be[1],(bg=be[2],ba(bc)>ba(bg)+1?ba(bc.Left)===ba(bc.Right)+1?(bh=bc.Left,c.Branch(bh.Node,c.Branch(bf,bg,bh.Left),c.Branch(bc.Node,bh.Right,bc.Right))):c.Branch(bc.Node,c.Branch(bf,bg,bc.Left),bc.Right):c.Branch(bf,bg,bc))):(bi=be[1],(bj=be[2],ba(bc)>ba(bj)+1?ba(bc.Right)===ba(bc.Left)+1?(bk=bc.Right,c.Branch(bk.Node,c.Branch(bc.Node,bc.Left,bk.Left),c.Branch(bi,bk.Right,bj))):c.Branch(bc.Node,bc.Left,c.Branch(bi,bc.Right,bj)):c.Branch(bi,bc,bj))));});return bc;},Remove:function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt;bm=c.Lookup(bk,bl);bn=bm[0];bo=bm[1];if(bn==null){return bl;}else{if(bn.Right==null){return c.Rebuild(bo,bn.Left);}else{if(bn.Left==null){return c.Rebuild(bo,bn.Right);}else{bp=(bq=(br=g.append((bs=bn.Left,c.Enumerate(false,bs)),(bt=bn.Right,c.Enumerate(false,bt))),g.toArray(br)),c.Build(bq,0,bq.length-1));return c.Rebuild(bo,bp);}}}},TryFind:function(bu,bv){var bw;bw=(c.Lookup(bu,bv))[0];if(bw==null){return{$:0};}else{return{$:1,$0:bw.Node};}}},Dictionary:$.Class({Add:function(bx,by){var bz;bz=this.hash.call(null,bx);if(this.data.hasOwnProperty(bz)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bz]={K:bx,V:by};this.count=this.count+1;}},Clear:function(){this.data={};this.count=0;},ContainsKey:function(bA){return this.data.hasOwnProperty(this.hash.call(null,bA));},GetEnumerator:function(){var bB,bD;return i.Get((bB=$.Tupled(function(bC){return bC[1];}),(bD=j.GetFields(this.data),bD.map(function(bE){return bB(bE);}))));},Remove:function(bF){var bG;bG=this.hash.call(null,bF);if(this.data.hasOwnProperty(bG)){j.Delete(this.data,bG);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bH){var bI,bJ;bI=this.hash.call(null,bH);if(this.data.hasOwnProperty(bI)){bJ=this.data[bI];return bJ.V;}else{return k.notPresent();}},set_Item:function(bK,bL){var bM;bM=this.hash.call(null,bK);if(!this.data.hasOwnProperty(bM)){this.count=this.count+1;}this.data[bM]={K:bK,V:bL};}},{New:function(bN,bO){var bP;bP=$.New(this,l.New11(bN,function(bQ){return function(bR){return bO.Equals(bQ,bR);};},function(bS){return bO.GetHashCode(bS);}));return bP;},New1:function(bT){var bU;bU=$.New(this,l.New11(bT,function(bV){return function(bW){return m.Equals(bV,bW);};},function(bX){return m.Hash(bX);}));return bU;},New11:function(bY,bZ,b0){var b1,b2;b1=$.New(this,{});b1.hash=b0;b1.count=0;b1.data={};b2=i.Get(bY);$.While(function(){return b2.MoveNext();},function(){var b3,b4;b3=b2.get_Current(),b1.data[b4=b3.K,b1.hash.call(null,b4)]=b3.V;});return b1;},New12:function(b5){var b6;b6=$.New(this,l.New11([],function(b7){return function(b8){return b5.Equals(b7,b8);};},function(b9){return b5.GetHashCode(b9);}));return b6;},New2:function(){var b_;b_=$.New(this,l.New11([],function(b$){return function(ca){return m.Equals(b$,ca);};},function(cb){return m.Hash(cb);}));return b_;},New3:function(){var cd;cd=$.New(this,l.New2());return cd;},New4:function(ce,cf){var cg;cg=$.New(this,l.New12(cf));return cg;}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(ch,ci){var cj,ck,cl;return n.New1((cj=this.tree,(ck=(cl=$.New(o,{Key:ch,Value:ci}),function(cm){return c.Add(cl,cm);}),ck(cj))));},CompareTo:function(cn){return g.compareWith(function(co){return function(cp){return d.Compare(co,cp);};},this,cn);},ContainsKey:function(cq){var cr,cs,ct;cr=this.tree;cs=(ct=$.New(o,{Key:cq,Value:undefined}),function(cu){return c.Contains(ct,cu);});return cs(cr);},Equals:function(cv){if(this.get_Count()===cv.get_Count()){return g.forall2(function(cw){return function(cx){return m.Equals(cw,cx);};},this,cv);}else{return false;}},GetEnumerator:function(){var cy,cz,cA;return i.Get((cy=(cz=this.tree,c.Enumerate(false,cz)),(cA=function(cB){return g.map(function(cC){return{K:cC.Key,V:cC.Value};},cB);},cA(cy))));},GetHashCode:function(){return m.Hash(g.toArray(this));},Remove:function(cD){var cE,cF,cG;return n.New1((cE=this.tree,(cF=(cG=$.New(o,{Key:cD,Value:undefined}),function(cH){return c.Remove(cG,cH);}),cF(cE))));},TryFind:function(cI){var cJ,cK,cL,cM,cO;cJ=(cK=this.tree,(cL=(cM=$.New(o,{Key:cI,Value:undefined}),function(cN){return c.TryFind(cM,cN);}),cL(cK)));cO=function(cP){return p.map(function(cQ){return cQ.Value;},cP);};return cO(cJ);},get_Count:function(){var cR;cR=this.tree;if(cR==null){return 0;}else{return cR.Count;}},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cS){var cT,cU;cT=this.TryFind(cS);if(cT.$==0){return d.FailWith("The given key was not present in the dictionary.");}else{cU=cT.$0;return cU;}},get_Tree:function(){return this.tree;}},{New:function(cV){var cW;cW=$.New(this,n.New1(q.fromSeq(cV)));return cW;},New1:function(cX){var cY;cY=$.New(this,{});cY.tree=cX;return cY;}}),FSharpSet:$.Class({Add:function(cZ){return r.New1(c.Add(cZ,this.tree));},CompareTo:function(c0){return g.compareWith(function(c1){return function(c2){return d.Compare(c1,c2);};},this,c0);},Contains:function(c3){return c.Contains(c3,this.tree);},Equals:function(c4){if(this.get_Count()===c4.get_Count()){return g.forall2(function(c5){return function(c6){return m.Equals(c5,c6);};},this,c4);}else{return false;}},GetEnumerator:function(){var c7;return i.Get((c7=this.tree,c.Enumerate(false,c7)));},GetHashCode:function(){return-1741749453+m.Hash(g.toArray(this));},IsProperSubsetOf:function(c8){if(this.IsSubsetOf(c8)){return this.get_Count()<c8.get_Count();}else{return false;}},IsProperSupersetOf:function(c9){if(this.IsSupersetOf(c9)){return this.get_Count()>c9.get_Count();}else{return false;}},IsSubsetOf:function(c_){return g.forall(function(c$){return c_.Contains(c$);},this);},IsSupersetOf:function(da){var dc=this;return g.forall(function(db){return dc.Contains(db);},da);},Remove:function(dd){return r.New1(c.Remove(dd,this.tree));},add:function(de){var df,dg;df=g.append(this,de);dg=c.OfSeq(df);return r.New1(dg);},get_Count:function(){var dh;dh=this.tree;if(dh==null){return 0;}else{return dh.Count;}},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){var di;return g.head((di=this.tree,c.Enumerate(true,di)));},get_MinimumElement:function(){var dj;return g.head((dj=this.tree,c.Enumerate(false,dj)));},get_Tree:function(){return this.tree;},sub:function(dk){return s.Filter(function(dl){return!dk.Contains(dl);},this);}},{New:function(dm){var dn;dn=$.New(this,r.New1(t.ofSeq(dm)));return dn;},New1:function(_do){var dp;dp=$.New(this,{});dp.tree=_do;return dp;}}),MapModule:{Exists:function(dq,dr){var ds,dt;ds=(dt=function(du){return(dq(du.K))(du.V);},function(dv){return g.exists(dt,dv);});return ds(dr);},Filter:function(dw,dx){var dy,dz,dA,dB,dC,dD;dy=(dz=(dA=(dB=(dC=dx.get_Tree(),c.Enumerate(false,dC)),(dD=function(dE){return g.filter(function(dF){return(dw(dF.Key))(dF.Value);},dE);},dD(dB))),g.toArray(dA)),c.Build(dz,0,dz.length-1));return n.New1(dy);},FindKey:function(dG,dH){var dI,dJ;dI=(dJ=function(dK){if((dG(dK.K))(dK.V)){return{$:1,$0:dK.K};}else{return{$:0};}},function(dL){return g.pick(dJ,dL);});return dI(dH);},Fold:function(dM,dN,dO){var dP,dQ,dR;dP=(dQ=dO.get_Tree(),c.Enumerate(false,dQ));dR=function(dS){return g.fold(function(dT){return function(dU){return((dM(dT))(dU.Key))(dU.Value);};},dN,dS);};return dR(dP);},FoldBack:function(dV,dW,dX){var dY,dZ,d0;dY=(dZ=dW.get_Tree(),c.Enumerate(true,dZ));d0=function(d1){return g.fold(function(d2){return function(d3){return((dV(d3.Key))(d3.Value))(d2);};},dX,d1);};return d0(dY);},ForAll:function(d4,d5){var d6,d7;d6=(d7=function(d8){return(d4(d8.K))(d8.V);},function(d9){return g.forall(d7,d9);});return d6(d5);},Iterate:function(d_,d$){var ea,eb;ea=(eb=function(ec){return(d_(ec.K))(ec.V);},function(ed){return g.iter(eb,ed);});return ea(d$);},Map:function(ee,ef){var eg,eh,ei,ej,ek;eg=(eh=(ei=(ej=ef.get_Tree(),c.Enumerate(false,ej)),(ek=function(el){return g.map(function(em){return $.New(o,{Key:em.Key,Value:(ee(em.Key))(em.Value)});},el);},ek(ei))),c.OfSeq(eh));return n.New1(eg);},OfArray:function(en){var eo,ep,eq,er;eo=(ep=(eq=(er=$.Tupled(function(es){var et,eu;et=es[0];eu=es[1];return $.New(o,{Key:et,Value:eu});}),function(ev){return g.map(er,ev);}),eq(en)),c.OfSeq(ep));return n.New1(eo);},Partition:function(ew,ex){var ey,ez,eA,eB,eE,eF;ey=(ez=g.toArray((eA=ex.get_Tree(),c.Enumerate(false,eA))),(eB=function(eC){return h.partition(function(eD){return(ew(eD.Key))(eD.Value);},eC);},eB(ez)));eE=ey[1];eF=ey[0];return[n.New1(c.Build(eF,0,eF.length-1)),n.New1(c.Build(eE,0,eE.length-1))];},Pick:function(eG,eH){var eI,eJ;eI=(eJ=function(eK){return(eG(eK.K))(eK.V);},function(eL){return g.pick(eJ,eL);});return eI(eH);},ToSeq:function(eM){var eN,eO,eP;eN=(eO=eM.get_Tree(),c.Enumerate(false,eO));eP=function(eQ){return g.map(function(eR){return[eR.Key,eR.Value];},eQ);};return eP(eN);},TryFind:function(eS,eT){return eT.TryFind(eS);},TryFindKey:function(eU,eV){var eW,eX;eW=(eX=function(eY){if((eU(eY.K))(eY.V)){return{$:1,$0:eY.K};}else{return{$:0};}},function(eZ){return g.tryPick(eX,eZ);});return eW(eV);},TryPick:function(e0,e1){var e2,e3;e2=(e3=function(e4){return(e0(e4.K))(e4.V);},function(e5){return g.tryPick(e3,e5);});return e2(e1);}},MapUtil:{fromSeq:function(e6){var e7;e7=g.toArray(g.delay(function(){return g.collect($.Tupled(function(e9){var e_,e$;e_=e9[1];e$=e9[0];return[$.New(o,{Key:e$,Value:e_})];}),g.distinctBy($.Tupled(function(fa){return fa[0];}),e6));}));h.sortInPlace(e7);return c.Build(e7,0,e7.length-1);}},Pair:$.Class({CompareTo:function(fb){return d.Compare(this.Key,fb.Key);},Equals:function(fc){return m.Equals(this.Key,fc.Key);},GetHashCode:function(){return m.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(fd){return this.arr.push(fd);},AddRange:function(fe){var fg=this;return g.iter(function(ff){return fg.Add(ff);},fe);},Clear:function(){var fh;fh=u.splice(this.arr,0,this.arr.length,[]);fh;},CopyTo:function(fi){return this.CopyTo1(fi,0);},CopyTo1:function(fj,fk){return this.CopyTo2(0,fj,fk,this.get_Count());},CopyTo2:function(fl,fm,fn,fo){return h.blit(this.arr,fl,fm,fn,fo);},GetEnumerator:function(){return i.Get(this.arr);},GetRange:function(fp,fq){return v.New3(h.sub(this.arr,fp,fq));},Insert:function(fr,fs){var ft;ft=u.splice(this.arr,fr,0,[fs]);ft;},InsertRange:function(fu,fv){var fw;fw=u.splice(this.arr,fu,0,g.toArray(fv));fw;},RemoveAt:function(fx){var fy;fy=u.splice(this.arr,fx,1,[]);fy;},RemoveRange:function(fz,fA){var fB;fB=u.splice(this.arr,fz,fA,[]);fB;},Reverse:function(){return this.arr.reverse();},Reverse1:function(fC,fD){return h.reverse(this.arr,fC,fD);},ToArray:function(){return this.arr.slice();},get_Count:function(){return this.arr.length;},get_Item:function(fE){return this.arr[fE];},set_Item:function(fF,fG){this.arr[fF]=fG;}},{New:function(fH){var fI;fI=$.New(this,v.New3(g.toArray(fH)));return fI;},New1:function(){var fK;fK=$.New(this,v.New3([]));return fK;},New2:function(){var fL;fL=$.New(this,v.New3([]));return fL;},New3:function(fM){var fN;fN=$.New(this,{});fN.arr=fM;return fN;}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(fO,fP){var fQ;return r.New1((fQ=g.toArray(g.filter(fO,fP)),c.Build(fQ,0,fQ.length-1)));},FoldBack:function(fR,fS,fT){var fW;return g.fold(function(fU){return function(fV){return(fR(fV))(fU);};},fT,(fW=fS.get_Tree(),c.Enumerate(true,fW)));},Partition:function(fX,fY){var fZ,f0,f1,f2,f3;fZ=h.partition(fX,g.toArray(fY));f0=fZ[1];f1=fZ[0];return[(f2=c.OfSeq(f1),r.New1(f2)),(f3=c.OfSeq(f0),r.New1(f3))];}},SetUtil:{ofSeq:function(f4){var f5;f5=g.toArray(f4);h.sortInPlace(f5);return c.Build(f5,0,f5.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.List);f=$.Safe(e.T);g=$.Safe(a.Seq);h=$.Safe(a.Arrays);i=$.Safe(a.Enumerator);j=$.Safe(a.JavaScript);k=$.Safe(b.DictionaryUtil);l=$.Safe(b.Dictionary);m=$.Safe(a.Unchecked);n=$.Safe(b.FSharpMap);o=$.Safe(b.Pair);p=$.Safe(a.Option);q=$.Safe(b.MapUtil);r=$.Safe(b.FSharpSet);s=$.Safe(b.SetModule);t=$.Safe(b.SetUtil);u=$.Safe(b.ResizeArray);return v=$.Safe(u.ResizeArrayProxy);});$.OnLoad(function(){});}());
